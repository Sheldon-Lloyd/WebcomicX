var TinyMCE_EditableSelects={editSelectElm:null,init:function(){var c=document.getElementsByTagName("select"),b,a=document,e;for(b=0;b<c.length;b++){if(c[b].className.indexOf("mceEditableSelect")!=-1){e=new Option(tinyMCEPopup.editor.translate("value"),"__mce_add_custom__");e.className="mceAddSelectValue";c[b].options[c[b].options.length]=e;c[b].onchange=TinyMCE_EditableSelects.onChangeEditableSelect}}},onChangeEditableSelect:function(b){var a=document,c,f=window.event?window.event.srcElement:b.target;if(f.options[f.selectedIndex].value=="__mce_add_custom__"){c=a.createElement("input");c.id=f.id+"_custom";c.name=f.name+"_custom";c.type="text";c.style.width=f.offsetWidth+"px";f.parentNode.insertBefore(c,f);f.style.display="none";c.focus();c.onblur=TinyMCE_EditableSelects.onBlurEditableSelectInput;c.onkeydown=TinyMCE_EditableSelects.onKeyDown;TinyMCE_EditableSelects.editSelectElm=f}},onBlurEditableSelectInput:function(){var a=TinyMCE_EditableSelects.editSelectElm;if(a){if(a.previousSibling.value!=""){addSelectValue(document.forms[0],a.id,a.previousSibling.value,a.previousSibling.value);selectByValue(document.forms[0],a.id,a.previousSibling.value)}else{selectByValue(document.forms[0],a.id,"")}a.style.display="inline";a.parentNode.removeChild(a.previousSibling);TinyMCE_EditableSelects.editSelectElm=null}},onKeyDown:function(a){a=a||window.event;if(a.keyCode==13){TinyMCE_EditableSelects.onBlurEditableSelectInput()}}};