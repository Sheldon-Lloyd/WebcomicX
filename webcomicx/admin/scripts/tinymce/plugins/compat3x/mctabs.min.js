function MCTabs(){this.settings=[];this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(a){this.settings=a};MCTabs.prototype.getParam=function(b,a){var c=null;c=(typeof(this.settings[b])=="undefined")?a:this.settings[b];if(c=="true"||c=="false"){return(c=="true")}return c};MCTabs.prototype.showTab=function(a){a.className="current";a.setAttribute("aria-selected",true);a.setAttribute("aria-expanded",true);a.tabIndex=0};MCTabs.prototype.hideTab=function(b){var a=this;b.className="";b.setAttribute("aria-selected",false);b.setAttribute("aria-expanded",false);b.tabIndex=-1};MCTabs.prototype.showPanel=function(a){a.className="current";a.setAttribute("aria-hidden",false)};MCTabs.prototype.hidePanel=function(a){a.className="panel";a.setAttribute("aria-hidden",true)};MCTabs.prototype.getPanelForTab=function(a){return tinyMCEPopup.dom.getAttrib(a,"aria-controls")};MCTabs.prototype.displayTab=function(j,d,a){var f,e,l,k,g,c,b,h=this;l=document.getElementById(j);if(d===undefined){d=h.getPanelForTab(l)}f=document.getElementById(d);e=f?f.parentNode:null;k=l?l.parentNode:null;g=h.getParam("selection_class","current");if(l&&k){c=k.childNodes;for(b=0;b<c.length;b++){if(c[b].nodeName=="LI"){h.hideTab(c[b])}}h.showTab(l)}if(f&&e){c=e.childNodes;for(b=0;b<c.length;b++){if(c[b].nodeName=="DIV"){h.hidePanel(c[b])}}if(!a){l.focus()}h.showPanel(f)}};MCTabs.prototype.getAnchor=function(){var a,b=document.location.href;if((a=b.lastIndexOf("#"))!=-1){return b.substring(a+1)}return""};var mcTabs=new MCTabs();tinyMCEPopup.onInit.add(function(){var c=tinyMCEPopup.getWin().tinymce,a=tinyMCEPopup.dom,b=c.each;b(a.select("div.tabs"),function(g){var f;a.setAttrib(g,"role","tablist");var e=tinyMCEPopup.dom.select("li",g);var d=function(h){mcTabs.displayTab(h,mcTabs.getPanelForTab(h));mcTabs.onChange.dispatch(h)};b(e,function(h){a.setAttrib(h,"role","tab");a.bind(h,"click",function(i){d(h.id)})});a.bind(a.getRoot(),"keydown",function(h){if(h.keyCode===9&&h.ctrlKey&&!h.altKey){f.moveFocus(h.shiftKey?-1:1);c.dom.Event.cancel(h)}});b(a.select("a",g),function(h){a.setAttrib(h,"tabindex","-1")});f=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:g,items:e,onAction:d,actOnFocus:true,enableLeftRight:true,enableUpDown:true},tinyMCEPopup.dom)})});