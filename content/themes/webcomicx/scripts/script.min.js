function horizontalNext(a){a=$(a).parent();pages=$(a).children(".comic-collection");scrollPosition=$(pages).scrollLeft();var b;$(".previous",a).show();w=$(pages).width();sw=$(pages).children("ul")[0].scrollWidth-w;if(scrollPosition<sw){b=scrollPosition+w;$(pages).animate({scrollLeft:b},500)}}function toggleScrollBtn(a){a=$(a).closest("li.accordion");pages=$(".comic-collection",a);scrollPosition=$(".comic-collection",a).scrollLeft();if(scrollPosition<=0){$(".previous",a).hide()}else{$(".previous",a).show()}w=$(pages).width();sw=$(pages).children("ul")[0].scrollWidth-w;if(scrollPosition>=sw){$(".next",a).hide()}else{$(".next",a).show()}}function horizontalBack(a){a=$(a).parent();pages=$(a).children(".comic-collection");$(".next",a).show();scrollPosition=$(pages).scrollLeft();w=$(pages).width();if(scrollPosition>0){scrollRight=scrollPosition-w;$(pages).animate({scrollLeft:scrollRight},500)}}function accordion(a){a=$(a).parent();$("h4.accordion span").html("+");$("div.is-hidden").slideUp(222);if(!$(".is-hidden",a).is(":visible")){$("div.is-hidden",a).slideToggle(222);if($("h4.accordion span",a).text()=="+"){$("h4.accordion span",a).html("&times;")}else{$("h4.accordion h4 span",a).html("+")}}}$(document).ready(function(){var h="";var m=window.location.pathname;m=m.split("/");currentComic=parseInt(m[3]);if(isNaN(currentComic)){try{currentComic=newest}catch(e){}}var k=currentComic-1;var o;var n;var f="/content/xml/comics/comic-"+currentComic+".xml";if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}xmlhttp.open("GET",f,false);xmlhttp.send();xmlDoc=xmlhttp.responseXML;xmlhttp.open("GET","/content/xml/comics/comic-list.xml",false);xmlhttp.send();comicListXml=xmlhttp.responseXML;comicList=comicListXml.getElementsByTagName("Comic");if(k>0){xmlhttp.open("GET","/content/xml/comics/comic-"+k+".xml",false);xmlhttp.send();o=xmlhttp.responseXML;n=o.getElementsByTagName("Page")}x=xmlDoc.getElementsByTagName("Page");i=0;function b(){}function c(){}function d(){}function g(q){var s=q.id;var p=document.getElementById(s);var r="/comic/read/"+p.options[p.selectedIndex].value;window.location=r}function a(p){p=p||window.event;if(p.keyCode==37){l()}if(p.keyCode==39){j()}}document.onkeydown=a;function j(){if(comicList.length>currentComic){window.location="/comic/read/"+(currentComic+1)}}function l(){if(n!=undefined){window.location="/comic/read/"+k}}});