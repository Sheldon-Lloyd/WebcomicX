var Validator={isEmail:function(a){return this.test(a,"^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$")},isAbsUrl:function(a){return this.test(a,"^(news|telnet|nttp|file|http|ftp|https)://[-A-Za-z0-9\\.]+\\/?.*$")},isSize:function(a){return this.test(a,"^[0-9.]+(%|in|cm|mm|em|ex|pt|pc|px)?$")},isId:function(a){return this.test(a,"^[A-Za-z_]([A-Za-z0-9_])*$")},isEmpty:function(c){var b,a;if(c.nodeName=="SELECT"&&c.selectedIndex<1){return true}if(c.type=="checkbox"&&!c.checked){return true}if(c.type=="radio"){for(a=0,b=c.form.elements;a<b.length;a++){if(b[a].type=="radio"&&b[a].name==c.name&&b[a].checked){return false}}return true}return new RegExp("^\\s*$").test(c.nodeType==1?c.value:c)},isNumber:function(b,a){return !isNaN(b.nodeType==1?b.value:b)&&(!a||!this.test(b,"^-?[0-9]*\\.[0-9]*$"))},test:function(b,a){b=b.nodeType==1?b.value:b;return b==""||new RegExp(a).test(b)}};var AutoValidator={settings:{id_cls:"id",int_cls:"int",url_cls:"url",number_cls:"number",email_cls:"email",size_cls:"size",required_cls:"required",invalid_cls:"invalid",min_cls:"min",max_cls:"max"},init:function(b){var a;for(a in b){this.settings[a]=b[a]}},validate:function(b){var d,e,g=this.settings,a=0;e=this.tags(b,"label");for(d=0;d<e.length;d++){this.removeClass(e[d],g.invalid_cls);e[d].setAttribute("aria-invalid",false)}a+=this.validateElms(b,"input");a+=this.validateElms(b,"select");a+=this.validateElms(b,"textarea");return a==3},invalidate:function(a){this.mark(a.form,a)},getErrorMessages:function(b){var h,d,j=this.settings,c,g,k,e=[],a=tinyMCEPopup.editor;h=this.tags(b,"label");for(d=0;d<h.length;d++){if(this.hasClass(h[d],j.invalid_cls)){c=document.getElementById(h[d].getAttribute("for"));k={field:h[d].textContent};if(this.hasClass(c,j.min_cls,true)){message=a.getLang("invalid_data_min");k.min=this.getNum(c,j.min_cls)}else{if(this.hasClass(c,j.number_cls)){message=a.getLang("invalid_data_number")}else{if(this.hasClass(c,j.size_cls)){message=a.getLang("invalid_data_size")}else{message=a.getLang("invalid_data")}}}message=message.replace(/{\#([^}]+)\}/g,function(f,i){return k[i]||"{#"+i+"}"});e.push(message)}}return e},reset:function(a){var g=["label","input","select","textarea"];var b,c,d,f=this.settings;if(a==null){return}for(b=0;b<g.length;b++){d=this.tags(a.form?a.form:a,g[b]);for(c=0;c<d.length;c++){this.removeClass(d[c],f.invalid_cls);d[c].setAttribute("aria-invalid",false)}}},validateElms:function(b,a){var g,c,d,h=this.settings,j=true,l=Validator,k;g=this.tags(b,a);for(c=0;c<g.length;c++){d=g[c];this.removeClass(d,h.invalid_cls);if(this.hasClass(d,h.required_cls)&&l.isEmpty(d)){j=this.mark(b,d)}if(this.hasClass(d,h.number_cls)&&!l.isNumber(d)){j=this.mark(b,d)}if(this.hasClass(d,h.int_cls)&&!l.isNumber(d,true)){j=this.mark(b,d)}if(this.hasClass(d,h.url_cls)&&!l.isAbsUrl(d)){j=this.mark(b,d)}if(this.hasClass(d,h.email_cls)&&!l.isEmail(d)){j=this.mark(b,d)}if(this.hasClass(d,h.size_cls)&&!l.isSize(d)){j=this.mark(b,d)}if(this.hasClass(d,h.id_cls)&&!l.isId(d)){j=this.mark(b,d)}if(this.hasClass(d,h.min_cls,true)){k=this.getNum(d,h.min_cls);if(isNaN(k)||parseInt(d.value)<parseInt(k)){j=this.mark(b,d)}}if(this.hasClass(d,h.max_cls,true)){k=this.getNum(d,h.max_cls);if(isNaN(k)||parseInt(d.value)>parseInt(k)){j=this.mark(b,d)}}}return j},hasClass:function(e,a,b){return new RegExp("\\b"+a+(b?"[0-9]+":"")+"\\b","g").test(e.className)},getNum:function(b,a){a=b.className.match(new RegExp("\\b"+a+"([0-9]+)\\b","g"))[0];a=a.replace(/[^0-9]/g,"");return a},addClass:function(e,d,a){var f=this.removeClass(e,d);e.className=a?d+(f!=""?(" "+f):""):(f!=""?(f+" "):"")+d},removeClass:function(b,a){a=b.className.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ");return b.className=a!=" "?a:""},tags:function(a,b){return a.getElementsByTagName(b)},mark:function(a,b){var c=this.settings;this.addClass(b,c.invalid_cls);b.setAttribute("aria-invalid","true");this.markLabels(a,b,c.invalid_cls);return false},markLabels:function(a,d,c){var e,b;e=this.tags(a,"label");for(b=0;b<e.length;b++){if(e[b].getAttribute("for")==d.id||e[b].htmlFor==d.id){this.addClass(e[b],c)}}return null}};